<Window
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:local="clr-namespace:TXTReader" x:Class="TXTReader.MainWindow" x:Name="window"
        xmlns:converter="clr-namespace:TXTReader.Converter"
        xmlns:widget="clr-namespace:TXTReader.Widget"
        xmlns:display="clr-namespace:TXTReader.Display"
        Title="MainWindow" Height="350" Width="525" Loaded="window_Loaded">
    <Window.Resources>
        <converter:ToolPanelWidthCvt x:Key="toolPanelWidthCvt"/>       
    </Window.Resources>
    <Window.CommandBindings>
        <CommandBinding Command="ApplicationCommands.Find" x:Name="find"  CanExecute="find_CanExecute" Executed="find_Executed"/>
    </Window.CommandBindings>
    <DockPanel>
        <widget:TRProgressBar x:Name="progressBar" DockPanel.Dock="Bottom" Height="8"/>
        <Canvas x:Name="canvas" SizeChanged="canvas_SizeChanged">
            <display:Displayer4 x:Name="displayer" Canvas.Left="0" Canvas.Top="0"  Panel.ZIndex="0"
                            Height="{Binding ActualHeight,ElementName=canvas}" Width="{Binding ActualWidth, ElementName=canvas}">
            </display:Displayer4>
            <widget:FloatMessagePanel x:Name="floatMessagePanel" Canvas.Left="0" Canvas.Top="0" Panel.ZIndex="1"
                            Height="{Binding ActualHeight,ElementName=canvas}" Width="{Binding ActualWidth, ElementName=canvas}">
            </widget:FloatMessagePanel>
            <widget:ToolPanels  x:Name="toolPanel" Panel.ZIndex="5"
            Height="{Binding ActualHeight, ElementName=canvas}" 
            Width="{Binding ActualWidth, ElementName=canvas, Converter={StaticResource toolPanelWidthCvt}}" OpacityMask="#E6000000"/>
            <widget:SearchBar x:Name="sb_search" Canvas.Left="0" Canvas.Top="0" Visibility="Hidden" Panel.ZIndex="2"></widget:SearchBar>
        </Canvas>
    </DockPanel>
</Window>
